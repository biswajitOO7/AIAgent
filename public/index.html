<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Agent | Intelligent Assistant</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar hidden" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <span class="logo-icon">âœ¨</span>
                    <h1>AI Agent</h1>
                </div>
            </div>
            <div class="user-profile">
                <div class="avatar" id="current-user-avatar">?</div>
                <div class="user-info">
                    <span id="current-username">Guest</span>
                    <span class="status">Online</span>
                </div>
                <button id="logout-btn" title="Logout">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>
                </button>
            </div>

            <div class="sidebar-section-header">
                <span>Contacts</span>
            </div>
            <div class="contacts-list" id="contacts-list">
                <!-- AI Agent (Default) -->
                <div class="contact-item active" data-id="ai-agent">
                    <div class="avatar ai-avatar">ðŸ¤–</div>
                    <div class="contact-info">
                        <span class="contact-name">AI Assistant</span>
                        <span class="contact-status">Always helpful</span>
                    </div>
                </div>
                <!-- Other users will be loaded here -->
            </div>

            <div class="sidebar-section-header">
                <span>Groups</span>
                <button id="create-group-btn" title="Create Group">+</button>
            </div>
            <div class="contacts-list" id="groups-list">
                <!-- Groups will be loaded here -->
            </div>


        </aside>

        <!-- Main Chat Area -->
        <main class="chat-interface hidden" id="chat-interface">
            <header class="chat-header">
                <button id="mobile-menu-btn" class="mobile-only">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
                <div class="chat-header-info">
                    <h2 id="current-chat-name">AI Assistant</h2>
                    <span class="status-indicator"><span class="dot"></span> Online</span>
                </div>
            </header>

            <div id="chat-history" class="chat-history">
                <!-- Messages will appear here -->
                <div class="welcome-message">
                    <h2>Hello! ðŸ‘‹</h2>
                    <p>I am your AI assistant. How can I help you today?</p>
                </div>
            </div>

            <div class="input-area">
                <form id="chat-form">
                    <input type="text" id="user-input" placeholder="Type your message..." autocomplete="off" required>
                    <button type="submit" id="send-btn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22 2L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M22 2L15 22L11 13L2 9L22 2Z" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </button>
                </form>
            </div>
        </main>

        <!-- Auth Modal -->
        <div id="auth-modal" class="auth-modal">
            <div class="auth-box">
                <h2 id="auth-title">Login</h2>
                <form id="auth-form">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" required>
                    </div>
                    <button type="submit" id="auth-submit-btn">Login</button>
                    <p class="auth-switch">
                        <span id="auth-switch-text">Don't have an account?</span>
                        <a href="#" id="auth-switch-btn">Register</a>
                    </p>
                    <p id="auth-error" class="error-msg"></p>
                </form>
            </div>
        </div>

        <!-- Create Group Modal -->
        <div id="group-modal" class="auth-modal hidden">
            <div class="auth-box">
                <h2>Create New Group</h2>
                <form id="create-group-form">
                    <div class="form-group">
                        <label for="group-name">Group Name</label>
                        <input type="text" id="group-name" required placeholder="e.g., Team Alpha">
                    </div>
                    <div class="form-group">
                        <label>Select Members</label>
                        <div id="user-checklist" class="user-checklist">
                            <!-- User checkboxes will be populated here -->
                        </div>
                    </div>
                    <div class="modal-buttons">
                        <button type="button" id="cancel-group-btn" class="secondary-btn">Cancel</button>
                        <button type="submit" id="submit-group-btn" class="primary-btn">Create</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Right Sidebar (Notes) -->
        <aside class="right-sidebar" id="right-sidebar">
            <div class="sidebar-header">
                <div class="sidebar-section-header" style="margin-top:0">
                    <span>My Notes</span>
                    <button id="add-note-btn" title="Add Note">+</button>
                </div>
            </div>

            <!-- Notes List View -->
            <div id="notes-list-view" class="notes-list-view">
                <div class="contacts-list" id="notes-list">
                    <!-- Notes will be loaded here -->
                </div>
            </div>

            <!-- Note Editor View (Hidden by default) -->
            <div id="note-editor-view" class="note-editor hidden">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
                    <h3 id="editor-title">Edit Note</h3>
                    <button id="close-editor-btn" class="secondary-btn"
                        style="padding: 5px 10px; font-size: 0.8rem;">Close</button>
                </div>
                <input type="hidden" id="note-id">
                <input type="text" id="note-title" placeholder="Title" class="editor-input">
                <textarea id="note-content" placeholder="Start typing..." class="editor-textarea"></textarea>
                <div class="note-editor-actions">
                    <button id="save-note-btn" class="primary-btn">Save</button>
                    <button id="delete-current-note-btn" class="secondary-btn"
                        style="background:rgba(239, 68, 68, 0.1); color:#ef4444;">Delete</button>
                </div>
            </div>
        </aside>

    </div>
    <script src="script.js"></script>
</body>

</html>